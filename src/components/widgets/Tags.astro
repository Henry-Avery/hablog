---
// Tags Widget - ç®€æ´ç‰ˆæ ‡ç­¾äº‘
import { getTagList } from "../../utils/content-utils";

interface Props {
	class?: string;
	maxDisplay?: number;
}

const { class: className = "", maxDisplay = 15 } = Astro.props;

const tags = await getTagList();
const displayTags = tags.slice(0, maxDisplay);
---

<div class:list={["card bg-base-100 shadow-xl border border-base-300", className]}>
	<div class="card-body p-5">
		<h2 class="card-title text-lg mb-2">
			<span>ğŸ·ï¸</span>
			Tags
		</h2>

		<div class="flex flex-wrap gap-2">
			{displayTags.map((tag) => (
				<a
					href={`/posts?tag=${encodeURIComponent(tag.name)}`}
					class="badge badge-outline badge-sm hover:badge-primary transition-colors"
				>
					{tag.name} ({tag.count})
				</a>
			))}
		</div>

		{tags.length > maxDisplay && (
			<a href="/archive/" class="btn btn-sm btn-ghost mt-2">
				View All â†’
			</a>
		)}
	</div>
</div>
