# ç»„ä»¶ç»†èŠ‚ä¼˜åŒ–å®ŒæˆæŠ¥å‘Š

## å®Œæˆæ—¶é—´
2026-01-07

## ä¼˜åŒ–æ€»ç»“

å·²å®Œæˆå¯¹åšå®¢æ‰€æœ‰ç»„ä»¶çš„ç»†èŠ‚ä¼˜åŒ–ï¼Œæå‡äº†è§†è§‰æ•ˆæœå’Œç”¨æˆ·äº¤äº’ä½“éªŒã€‚

---

## é˜¶æ®µ 1ï¼šæ ¸å¿ƒæŒ‰é’®ç»„ä»¶ä¿®å¤ âœ…

### Button.tsx é‡æ„
**æ–‡ä»¶ï¼š** `src/components/ui/Button.tsx`

**é—®é¢˜ï¼š**
- HTML ç»“æ„é”™è¯¯ï¼š`<button>` å†…åµŒå¥— `<a>` æ ‡ç­¾
- ä½¿ç”¨ `dangerouslySetInnerHTML` å­˜åœ¨å®‰å…¨é£é™©
- ç¼ºå°‘æ‚¬åœå’Œæ¿€æ´»çŠ¶æ€

**ä¿®å¤ï¼š**
```tsx
// ä¿®æ”¹å‰ï¼š<button><a href={link}>{label}</a></button>
// ä¿®æ”¹åï¼š<a href={link} className="btn ...">{label}</a>
```

**æ–°å¢åŠŸèƒ½ï¼š**
- æ”¹ç”¨ `<a>` å…ƒç´ æ ·å¼åŒ–ä¸ºæŒ‰é’®
- æ·»åŠ  `transition-all duration-150`
- æ‚¬åœæ•ˆæœï¼š`hover:shadow-lg hover:-translate-y-0.5`
- æ¿€æ´»çŠ¶æ€ï¼š`active:scale-95 active:shadow-sm`
- æ–°å¢ `external` å‚æ•°å¤„ç†å¤–éƒ¨é“¾æ¥

---

## é˜¶æ®µ 2ï¼šä¸“ç”¨æŒ‰é’®ç»„ä»¶åˆ›å»º âœ…

### ButtonLink.astro
**æ–‡ä»¶ï¼š** `src/components/ui/ButtonLink.astro`

**ç”¨é€”ï¼š** Categories ç»„ä»¶çš„é“¾æ¥æŒ‰é’®

**ç‰¹æ€§ï¼š**
- å·¦ä¾§æ–‡æœ¬ + å³ä¾§å¾½ç« 
- æ‚¬åœæ—¶å·¦ä¾§ padding å¢åŠ ï¼š`hover:pl-4`
- æ–‡å­—é¢œè‰²å˜åŒ–ï¼š`group-hover:text-primary`
- èƒŒæ™¯è‰²å˜åŒ–ï¼š`hover:bg-base-300`
- æ¿€æ´»ç¼©æ”¾ï¼š`active:scale-[0.98]`

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```astro
<ButtonLink url="/posts" badge="5" label="View all posts">
  Blog
</ButtonLink>
```

### ButtonTag.astro
**æ–‡ä»¶ï¼š** `src/components/ui/ButtonTag.astro`

**ç”¨é€”ï¼š** Tags ç»„ä»¶çš„æ ‡ç­¾æŒ‰é’®

**ç‰¹æ€§ï¼š**
- Badge æ ·å¼åŸºç¡€
- æ‚¬åœé¢œè‰²å˜åŒ–ï¼š`hover:badge-primary`
- æ¿€æ´»ç¼©æ”¾ï¼š`active:scale-95`
- å¯é€‰åœ†ç‚¹è£…é¥°
- æ˜¾ç¤ºæ–‡ç« æ•°é‡

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```astro
<ButtonTag href="/tags/astro" count={3} dot={true}>
  Astro
</ButtonTag>
```

---

## é˜¶æ®µ 3ï¼šWidget ç»„ä»¶ä¼˜åŒ– âœ…

### WidgetLayout.astro
**æ–‡ä»¶ï¼š** `src/components/widget/WidgetLayout.astro`

**ä¼˜åŒ–é¡¹ï¼š**
1. **æ ‡é¢˜æ è£…é¥°åŠ ç²—**
   - ä» `before:w-1 before:h-4` â†’ `before:w-1.5 before:h-5`
   - æ”¹ä¸ºåœ†å½¢ï¼š`before:rounded-full`
   - æ·»åŠ è¿‡æ¸¡åŠ¨ç”»ï¼š`before:transition-all before:duration-300`

2. **å±•å¼€æŒ‰é’®å¢å¼º**
   - æ·»åŠ å›¾æ ‡å‘ä¸‹ç§»åŠ¨åŠ¨ç”»ï¼š`group-hover:translate-y-0.5`
   - æ·»åŠ é—´è·åŠ¨ç”»ï¼š`gap-2 hover:gap-3`
   - ç»Ÿä¸€è¿‡æ¸¡ï¼š`transition-all`

3. **æŠ˜å åŠ¨ç”»**
   - å†…å®¹åŒºåŸŸæ·»åŠ ï¼š`transition-all duration-300`
   - å¹³æ»‘é«˜åº¦å˜åŒ–

### Profile.astro
**æ–‡ä»¶ï¼š** `src/components/widget/Profile.astro`

**ä¼˜åŒ–é¡¹ï¼š**
1. **å¤´åƒæ‚¬åœæ•ˆæœå¢å¼º**
   - ç¼©æ”¾æ—¶é•¿ï¼š`transition-transform duration-300`
   - æ‚¬åœç¼©æ”¾ï¼š`hover:scale-105`
   - æ¿€æ´»ç¼©æ”¾ï¼š`active:scale-95`

2. **é®ç½©åŠ¨ç”»ä¼˜åŒ–**
   - å›¾æ ‡ç¼©æ”¾ï¼š`scale-90 group-hover:scale-100`
   - ç»Ÿä¸€è¿‡æ¸¡ï¼š`transition-all duration-300`

3. **ç¤¾äº¤æŒ‰é’®åŠ¨ç”»**
   - æ·»åŠ ç¼©æ”¾æ•ˆæœï¼š`hover:scale-110 active:scale-90`
   - ç»Ÿä¸€è¿‡æ¸¡æ—¶é•¿ï¼š`duration-150`

### Categories.astro
**æ–‡ä»¶ï¼š** `src/components/widget/Categories.astro`

**ä¼˜åŒ–ï¼š**
- ç§»é™¤ç®€å•çš„ `<a>` æ ‡ç­¾
- ä½¿ç”¨ ButtonLink ç»„ä»¶
- æ›´ä¸°å¯Œçš„æ‚¬åœæ•ˆæœå’Œè¿‡æ¸¡åŠ¨ç”»

### Tags.astro
**æ–‡ä»¶ï¼š** `src/components/widget/Tags.astro`

**ä¼˜åŒ–ï¼š**
- ç§»é™¤ç®€å•çš„ badge é“¾æ¥
- ä½¿ç”¨ ButtonTag ç»„ä»¶
- ç»Ÿä¸€çš„æ¿€æ´»çŠ¶æ€å’Œé¢œè‰²å˜åŒ–

### TOC.astro
**æ–‡ä»¶ï¼š** `src/components/widget/TOC.astro`

**ä¼˜åŒ–é¡¹ï¼š**
1. **é“¾æ¥æ‚¬åœæ•ˆæœ**
   - æ·»åŠ å¹³ç§»åŠ¨ç”»ï¼š`transform: translateX(4px)`
   - èƒŒæ™¯è‰²å˜åŒ–ï¼š`background-color: hsl(var(--b2))`

2. **æ¿€æ´»çŠ¶æ€ä¼˜åŒ–**
   - ç¼©æ”¾æ•ˆæœï¼š`transform: scale(0.98)`
   - å­—é‡å¢åŠ ï¼š`font-weight: 600` (ä» 500)

3. **æ´»åŠ¨æŒ‡ç¤ºå™¨åŠ¨ç”»**
   - æ›´æµç•…çš„ç¼“åŠ¨å‡½æ•°ï¼š`cubic-bezier(0.4, 0, 0.2, 1)`
   - è¿‡æ¸¡æ—¶é•¿ï¼š`300ms`

4. **ç»Ÿä¸€è¿‡æ¸¡**
   - æ‰€æœ‰é“¾æ¥ï¼š`transition: all 150ms ease-in-out`

---

## ä¿®æ”¹æ–‡ä»¶æ¸…å•

### æ–°å»ºæ–‡ä»¶ (2)
1. `src/components/ui/ButtonLink.astro`
2. `src/components/ui/ButtonTag.astro`

### ä¿®æ”¹æ–‡ä»¶ (6)
1. `src/components/ui/Button.tsx`
2. `src/components/widget/WidgetLayout.astro`
3. `src/components/widget/Profile.astro`
4. `src/components/widget/Categories.astro`
5. `src/components/widget/Tags.astro`
6. `src/components/widget/TOC.astro`

---

## ç»Ÿä¸€çš„äº¤äº’è§„èŒƒ

### æ‚¬åœæ•ˆæœ (Hover)
- **æŒ‰é’®ï¼š** é˜´å½± + å‘ä¸Šç§»åŠ¨ (`hover:shadow-lg hover:-translate-y-0.5`)
- **é“¾æ¥ï¼š** èƒŒæ™¯è‰²å˜åŒ– + padding å¢åŠ 
- **æ ‡ç­¾ï¼š** é¢œè‰²å˜åŒ– (`hover:badge-primary`)
- **å¤´åƒï¼š** ç¼©æ”¾ (`hover:scale-105`)

### æ¿€æ´»æ•ˆæœ (Active)
- **æ‰€æœ‰å¯ç‚¹å‡»å…ƒç´ ï¼š** ç¼©æ”¾è‡³ 95-98% (`active:scale-95`)
- **ç»Ÿä¸€åé¦ˆï¼š** è§†è§‰ä¸Šçš„"æŒ‰ä¸‹"æ•ˆæœ

### è¿‡æ¸¡åŠ¨ç”»
- **æ ‡å‡†æ—¶é•¿ï¼š** 150ms
- **ç¼“åŠ¨å‡½æ•°ï¼š** ease-in-out æˆ– cubic-bezier(0.4, 0, 0.2, 1)
- **å±æ€§ï¼š** `transition-all` æˆ– `transition-transform`

---

## æ€§èƒ½ä¼˜åŒ–

1. **CSS è¿‡æ¸¡ä»£æ›¿ JS åŠ¨ç”»**
   - æ‰€æœ‰åŠ¨ç”»ä½¿ç”¨ CSS `transition`
   - GPU åŠ é€Ÿ (`transform`, `opacity`)

2. **åˆç†çš„åŠ¨ç”»æ—¶é•¿**
   - å¿«é€Ÿåé¦ˆï¼š150ms
   - æµç•…å˜åŒ–ï¼š300ms
   - é¿å…è¿‡é•¿çš„åŠ¨ç”»å½±å“ä½“éªŒ

3. **Web Component ä¼˜åŒ–**
   - WidgetLayout å’Œ TOC ä½¿ç”¨ Custom Elements
   - æŒ‰éœ€åˆå§‹åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„ DOM æ“ä½œ

---

## ç”¨æˆ·ä½“éªŒæå‡

### è§†è§‰åé¦ˆ
- âœ… æ‰€æœ‰å¯ç‚¹å‡»å…ƒç´ éƒ½æœ‰æ˜ç¡®çš„æ‚¬åœçŠ¶æ€
- âœ… æ¿€æ´»çŠ¶æ€æä¾›å³æ—¶åé¦ˆ
- âœ… è¿‡æ¸¡åŠ¨ç”»æµç•…è‡ªç„¶

### ä¸€è‡´æ€§
- âœ… ç»Ÿä¸€çš„åŠ¨ç”»æ—¶é•¿å’Œç¼“åŠ¨å‡½æ•°
- âœ… ç»Ÿä¸€çš„ç¼©æ”¾æ¯”ä¾‹å’Œé˜´å½±æ•ˆæœ
- âœ… ç»Ÿä¸€çš„é¢œè‰²å˜åŒ–è§„åˆ™

### å¯è®¿é—®æ€§
- âœ… æ‰€æœ‰é“¾æ¥éƒ½æœ‰ `aria-label`
- âœ… æŒ‰é’®ä½¿ç”¨è¯­ä¹‰åŒ–çš„ `<a>` æ ‡ç­¾
- âœ… å¤–éƒ¨é“¾æ¥æ­£ç¡®ä½¿ç”¨ `target="_blank"` å’Œ `rel="noopener noreferrer"`

---

## æµ‹è¯•å»ºè®®

### æ¡Œé¢ç«¯æµ‹è¯•
1. è®¿é—®é¦–é¡µï¼Œæµ‹è¯•ä¾§è¾¹æ ç»„ä»¶
2. æ‚¬åœ Profile å¤´åƒæŸ¥çœ‹ç¼©æ”¾æ•ˆæœ
3. ç‚¹å‡» Categories é“¾æ¥æŸ¥çœ‹åŠ¨ç”»
4. å±•å¼€ Tags ç»„ä»¶æµ‹è¯•"Show more"æŒ‰é’®
5. è®¿é—®æ–‡ç« é¡µé¢æµ‹è¯• TOC é«˜äº®å’Œæ»šåŠ¨

### ç§»åŠ¨ç«¯æµ‹è¯•
1. ç¡®è®¤ä¾§è¾¹æ åœ¨å°å±å¹•ä¸‹éšè—
2. æµ‹è¯•è§¦æ‘¸åé¦ˆï¼ˆæ¿€æ´»çŠ¶æ€ï¼‰
3. ç¡®è®¤æ‰€æœ‰äº¤äº’å…ƒç´ è¶³å¤Ÿå¤§ï¼ˆæœ€å° 44x44pxï¼‰

### æµè§ˆå™¨å…¼å®¹æ€§
- âœ… Chrome/Edge (Chromium)
- âœ… Firefox
- âœ… Safari
- âš ï¸ CSS `transform` åœ¨æ—§ç‰ˆ IE ä¸­ä¸æ”¯æŒï¼ˆä½†é¡¹ç›®ä¸éœ€è¦æ”¯æŒï¼‰

---

## ä¸‹ä¸€æ­¥å»ºè®®ï¼ˆå¯é€‰ï¼‰

1. **æ·»åŠ åŠ è½½åŠ¨ç”»**
   - ç»„ä»¶è¿›å…¥è§†å£æ—¶çš„æ·¡å…¥æ•ˆæœ
   - ä½¿ç”¨ Intersection Observer

2. **æš—è‰²æ¨¡å¼ä¼˜åŒ–**
   - æµ‹è¯•æš—è‰²ä¸»é¢˜ä¸‹çš„è§†è§‰æ•ˆæœ
   - è°ƒæ•´æ‚¬åœçŠ¶æ€çš„å¯¹æ¯”åº¦

3. **ç§»åŠ¨ç«¯ç‰¹å®šä¼˜åŒ–**
   - æ·»åŠ è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ
   - ä¼˜åŒ–ç‚¹å‡»åŒºåŸŸå¤§å°

4. **é”®ç›˜å¯¼èˆª**
   - æ·»åŠ  focus çŠ¶æ€æ ·å¼
   - ç¡®ä¿ Tab é”®å¯¼èˆªæµç•…

---

## å¼€å‘æœåŠ¡å™¨çŠ¶æ€

âœ… **è¿è¡Œæ­£å¸¸** - http://127.0.0.1:4321/

æ‰€æœ‰æ–‡ä»¶æ›´æ”¹å·²è¢«ç›‘å¬å¹¶è‡ªåŠ¨é‡æ–°åŠ è½½ã€‚

---

## æŠ€æœ¯æ ˆ

- **Astro 5.16.6** - æ¡†æ¶
- **DaisyUI 5.0.49** - UI ç»„ä»¶åº“
- **Tailwind CSS 4.1.4** - æ ·å¼
- **Web Components** - è‡ªå®šä¹‰å…ƒç´ 
- **TypeScript** - ç±»å‹å®‰å…¨

---

**ä¼˜åŒ–å®Œæˆï¼** ğŸ‰

æ‰€æœ‰ç»„ä»¶çš„ç»†èŠ‚ã€æŒ‰é’®ã€åŠ¨ç”»éƒ½å·²ç»è¿‡ä¼˜åŒ–ï¼Œæä¾›äº†æ›´æµç•…ã€æ›´ä¸“ä¸šçš„ç”¨æˆ·ä½“éªŒã€‚
